# Meida信息整理工具 PRD

## 1. 目标

开发一款命令行工具，能够自动读取照片的EXIF信息,视频的Meta信息，提取拍摄日期，并根据日期将照片按年/月的结构拷贝到指定的目标文件夹中。

## 3. 主要功能

### 3.1 命令行执行

- 用户通过命令行执行工具，格式如下：
  ```
  ./merge-tool -src /photos -dest /relocate
  ```
- `-src` 参数指定原始照片文件夹，`-dest` 参数指定目标文件夹。
- 工具会自动创建目标文件夹，如果目标文件夹不存在。
- 如果发现目标文件存在则跳过，并在输出中打印出重复文件的路径。

### 3.2 读取MetaData信息

如果是照片，则读取EXIF信息，提取拍摄日期。
    - 工具能够识别多种照片格式（如JPEG、PNG、RAW等）。
    - 自动读取每张照片的EXIF信息，提取拍摄日期。
    - 如果EXIF信息中不存在拍摄日期，则使用照片的创建时间作为替代。

如果是视频，则读取视频文件的创建时间。
    - 工具能够识别多种视频格式（如MP4、MOV、AVI等）。
    - 自动读取每段视频的创建时间。

### 3.3 照片分组与拷贝

- 根据提取到的拍摄日期，将照片自动分组。
- 目标文件夹的结构按照“年/月/日”的格式组织，示例如下：
  ```
  relocate
    ├── photos
    │    ├── 2024
    │    │    ├── 01
    │    │    ├── 01-12
    │    │    ├── 01-24
    │    ├── 02
    │── videos
    │    ├── 2024
    │    │    ├── 01
    │    │    ├── 01-12
    │    │    ├── 01-24
    │    ├── 02
  ```
- 照片将被拷贝到对应的“年/月”文件夹中。

### 3.4 TUI界面

- 提供一个简单的TUI界面，用于展示照片整理的进度和结果。

### 3.5 多线程处理

- 使用多线程处理照片和视频的整理，提高处理速度。

### 3.6 错误处理

- 在处理过程中，如果遇到错误，应输出错误信息，并继续处理其他文件。

### 3.7 日志输出

- 在处理过程中，输出日志信息，方便用户了解处理进度。

### 3.8 多平台编译

- 支持多平台编译，包括Windows、macOS、Linux、群晖等。

## 4. 技术要求

- 使用Golang开发，并使用go module管理以来。
- 确保兼容主流操作系统（Windows、macOS、Linux）。
